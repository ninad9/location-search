<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Location Search</title>
</head>
<body>
<center>
    <h2>Search for Location</h2>
    <div>
        <form action="/result" method="get" style="display: inline-block;">
            <input type="text" name="input" placeholder="Enter ZIP or City" required/>
            <button type="submit">Search</button>
        </form>
        <form action="/logout" method="get" style="display: inline-block; margin-left: 10px;">
            <button type="submit">Logout</button>
        </form>
    </div>
    <!-- <form action="/result" method="get">
         <input type="text" name="input" placeholder="Enter ZIP or City" required/>
         <button type="submit">Search</button>
     </form>
     <form action="/logout" method="get">
         <button type="submit">Logout</button>
     </form>-->
    <p th:if="${error}" style="color: red;" th:text="${error}"></p>

    <div th:if="${result}">
        <h3>Location Details</h3>
        <p><strong>City:</strong> <span th:text="${result.city}"></span></p>
        <p th:if="${result.state}"><strong>State:</strong> <span th:text="${result.state}"></span></p>
        <p th:if="${result.country}"><strong>Country:</strong> <span th:text="${result.country}"></span></p>

        <div th:if="${result.zipCodes != null and !result.zipCodes.empty}">
            <p>
                <strong>ZIP Codes:</strong>
                <span style="margin-left: 10px;">
            <span th:each="zip, iterStat : ${result.zipCodes}">
                <span th:text="${zip}"></span><span th:if="${!iterStat.last}">, </span>
            </span>
        </span>
            </p>
        </div>

</center>
</body>
</html>